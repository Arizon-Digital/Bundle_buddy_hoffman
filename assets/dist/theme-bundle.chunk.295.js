"use strict";(self.webpackChunkbigcommerce_cornerstone=self.webpackChunkbigcommerce_cornerstone||[]).push([[295],{67722:(e,t,r)=>{function a(e){return"string"==typeof e}r.d(t,{A:()=>a})},61579:(e,t,r)=>{r.d(t,{A:()=>a});const a={email:function(e){return/^.+@.+\..+/.test(e)},password:function(e){return this.notEmpty(e)},notEmpty:function(e){return e.length>0}}},41582:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(90574),n=r.n(a),i=r(11741),o=r.n(i),c=r(33270);n().classes.errorClass="form-field--error",n().classes.successClass="form-field--success",n().classes.errorMessageClass="form-inlineMessage",n().checkFunctions["min-max"]=function(e,t){return function(r){var a=parseFloat(c(e).val()),n=parseFloat(c(t).val());return n>a||o()(n)||o()(a)?r(!0):r(!1)}};const s=n()},96609:(e,t,r)=>{r.d(t,{J6:()=>p,VJ:()=>v,dN:()=>g,k0:()=>h,pt:()=>m});var a=r(14792),n=r.n(a),i=r(84058),o=r.n(i),c=r(79859),s=r.n(c),f=r(41582),l=r(61579),u=r(33270),d=["input","select","textarea"],m=function(e,t,r,a){return{onEmptyPasswordErrorText:e,onConfirmPasswordErrorText:t,onMismatchPasswordErrorText:r,onNotValidPasswordErrorText:a}};function p(e,t){void 0===t&&(t={});var r=u(e),a=r.find(d.join(", ")),i=t.formFieldClass,c=void 0===i?"form-field":i;return a.each((function(e,t){!function(e,t){var r,a=u(e),i=a.parent("."+t),c=a.prop("tagName").toLowerCase(),f=t+"--"+c;if("input"===c){var l=a.prop("type");s()(["radio","checkbox","submit"],l)?f=t+"--"+o()(l):r=""+f+n()(l)}i.addClass(f).addClass(r)}(t,c)})),r}function v(e){var t,r,a={type:"hidden",name:"FormFieldIsText"+(t=e,r=t.prop("name").match(/(\[.*\])/),r&&0!==r.length?r[0]:""),value:"1"};e.after(u("<input />",a))}function g(e){var t=e.element;if(!e.result){var r=u(t).parent(),a=u(r).find("span");if(a.length){var n=u(a[0]);n.attr("role")||n.attr("role","alert")}}}var h={setEmailValidation:function(e,t,r){t&&e.add({selector:t,validate:function(e,t){e(l.A.email(t))},errorMessage:r})},setPasswordValidation:function(e,t,r,a,n,i){var o=n.onEmptyPasswordErrorText,c=n.onConfirmPasswordErrorText,s=n.onMismatchPasswordErrorText,f=n.onNotValidPasswordErrorText,l=u(t),d=[{selector:t,validate:function(e,t){var r=t.length;if(i)return e(!0);e(r)},errorMessage:o},{selector:t,validate:function(e,t){var r=t.match(new RegExp(a.alpha))&&t.match(new RegExp(a.numeric))&&t.length>=a.minlength;if(i&&0===t.length)return e(!0);e(r)},errorMessage:f},{selector:r,validate:function(e,t){var r=t.length;if(i)return e(!0);e(r)},errorMessage:c},{selector:r,validate:function(e,t){e(t===l.val())},errorMessage:s}];e.add(d)},setMinMaxPriceValidation:function(e,t,r){void 0===r&&(r={});var a=t.errorSelector,n=t.fieldsetSelector,i=t.formSelector,o=t.maxPriceSelector,c=t.minPriceSelector,s=r,f=s.onMinPriceError,l=s.onMaxPriceError,u=s.minPriceNotEntered,d=s.maxPriceNotEntered,m=s.onInvalidPrice;e.configure({form:i,preventSubmit:!0,successClass:"_"}),e.add({errorMessage:f,selector:c,validate:"min-max:"+c+":"+o}),e.add({errorMessage:l,selector:o,validate:"min-max:"+c+":"+o}),e.add({errorMessage:d,selector:o,validate:"presence"}),e.add({errorMessage:u,selector:c,validate:"presence"}),e.add({errorMessage:m,selector:[c,o],validate:"min-number:0"}),e.setMessageOptions({selector:[c,o],parent:n,errorSpan:a})},setStateCountryValidation:function(e,t,r){t&&e.add({selector:t,validate:"presence",errorMessage:r})},cleanUpStateValidation:function(e){var t=u('[data-type="'+e.data("fieldType")+'"]');Object.keys(f.A.classes).forEach((function(e){t.hasClass(f.A.classes[e])&&t.removeClass(f.A.classes[e])}))}}},71779:(e,t,r)=>{r.d(t,{i:()=>i});var a="translations",n=function(e){return!!Object.keys(e[a]).length},i=function(e){var t=function(){for(var e=0;e<arguments.length;e++){var t=JSON.parse(e<0||arguments.length<=e?void 0:arguments[e]);if(n(t))return t}}(e.validationDictionaryJSON,e.validationFallbackDictionaryJSON,e.validationDefaultDictionaryJSON),r=Object.values(t[a]);return Object.keys(t[a]).map((function(e){return e.split(".").pop()})).reduce((function(e,t,a){return e[t]=r[a],e}),{})}},96295:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var a=r(91238),n=r(41582),i=r(67722),o=r(61579),c=r(71779),s=r(96609),f=r(85650),l=r(87838),u=r(33270);function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var m=function(e){function t(t){var r;(r=e.call(this,t)||this).validationDictionary=(0,c.i)(t);var a=u("#gift-certificate-balance"),i=u("#gift-certificate-form"),d=i.find('input[name="certificate_amount"]'),m=(0,n.A)({submit:'#gift-certificate-form input[type="submit"]',delay:300,tap:s.dN});if(d.length){var p=i.find('input[name="certificate_amount"]'),v=p.data("min"),g=p.data("minFormatted"),h=p.data("max"),y=p.data("maxFormatted");m.add({selector:'#gift-certificate-form input[name="certificate_amount"]',validate:function(e,t){var r=Number(t);r||e(!1),e(r>=v&&r<=h)},errorMessage:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var n=e;return["[MIN]","[MAX]"].forEach((function(e,t){n=n.includes(e)?n.replace(e,r[t]):n})),n}(r.validationDictionary.certificate_amount_range,g,y)})}if(m.add([{selector:'#gift-certificate-form input[name="to_name"]',validate:function(e,t){e(function(e){return e.length}(t))},errorMessage:r.context.toName},{selector:'#gift-certificate-form input[name="to_email"]',validate:function(e,t){e(function(){return o.A.email.apply(o.A,arguments)}(t))},errorMessage:r.context.toEmail},{selector:'#gift-certificate-form input[name="from_name"]',validate:function(e,t){e(function(e){return e.length}(t))},errorMessage:r.context.fromName},{selector:'#gift-certificate-form input[name="from_email"]',validate:function(e,t){e(function(){return o.A.email.apply(o.A,arguments)}(t))},errorMessage:r.context.fromEmail},{selector:'#gift-certificate-form input[name="certificate_theme"]:first-of-type',triggeredBy:'#gift-certificate-form input[name="certificate_theme"]',validate:function(e){e("string"==typeof i.find('input[name="certificate_theme"]:checked').val())},errorMessage:r.context.certTheme},{selector:'#gift-certificate-form input[name="agree"]',validate:function(e){e(i.find('input[name="agree"]').get(0).checked)},errorMessage:r.context.agreeToTerms},{selector:'#gift-certificate-form input[name="agree2"]',validate:function(e){e(i.find('input[name="agree2"]').get(0).checked)},errorMessage:r.context.agreeToTerms}]),a.length){var M=r.checkCertBalanceValidator(a);a.on("submit",(function(){if(M.performCheck(),!M.areAll("valid"))return!1}))}return i.on("submit",(function(e){if(m.performCheck(),!m.areAll("valid"))return e.preventDefault()})),u("#gift-certificate-preview").click((function(e){if(e.preventDefault(),m.performCheck(),m.areAll("valid")){var t=(0,l.PM)(),a=u(e.currentTarget).data("previewUrl")+"&"+i.serialize();t.open(),f.FH.getPage(a,{},(function(e,a){if(e)return t.updateContent(r.context.previewError);t.updateContent(a,{wrap:!0})}))}})),r}var r,a;return a=e,(r=t).prototype=Object.create(a.prototype),r.prototype.constructor=r,d(r,a),t.prototype.checkCertBalanceValidator=function(e){var t=(0,n.A)({submit:e.find('input[type="submit"]'),tap:s.dN});return t.add({selector:e.find('input[name="giftcertificatecode"]'),validate:function(e,t){e((0,i.A)(t))},errorMessage:"You must enter a certificate code."}),t},t}(a.A)}}]);
//# sourceMappingURL=theme-bundle.chunk.295.js.map
